apiVersion: v1
kind: Pod
metadata:
  name: ipc-namespace-sharing
  annotations:
    readableName: Pod with shared IPC namespace
    vulnerabilityReason: Container process has access to host interprocess comunication resources and can potentially manipulate with them - eg. communicate with host using shared memory
spec:
  containers:
    - name: ipc-namespace-sharing-container
      image: ubuntu
      command: [ "sh", "-c", "sleep 1h" ]
      hostIPC: true
      securityContext:
        readOnlyRootFilesystem: true
        allowPrivilegeEscalation: false
        runAsNonRoot: true
        capabilities:
          drop:
            - "ALL"
        seccompProfile:
          type: "RuntimeDefault"